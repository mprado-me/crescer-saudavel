<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        {% if data["menu_items"] and data["menu_items"]|length > 0 %}
          {% for menu_item in data["menu_items"] %}
            <li class="{% if menu_item['submenu_items'] %}dropdown{% endif %} {% if menu_item['active'] %}active{% endif %}">
              {% if menu_item["href"] %}
                <a href="{{menu_item['href']}}">{{menu_item["name"]}}</a>
              {% elif menu_item["submenu_items"] and menu_item["submenu_items"]|length > 0 %}
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{menu_item["name"]}} <span class="caret"></span></a>
              {% endif %}

              {% if menu_item["submenu_items"] and menu_item["submenu_items"]|length > 0 %}
                <ul class="dropdown-menu">
                {% for submenu_item in menu_item["submenu_items"] %}
                  <li>
                    {% if submenu_item["href"] %}
                      <a href="{{submenu_item['href']}}">{{submenu_item["name"]}}</a>
                    {% else %}
                      {{submenu_item["name"]}}
                    {% endif %}
                  </li>
                {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        {% endif %}
      </ul>
    </div>
  </div>
</nav>